# Criptografía

## ¿Por qué cifrar?

- La información es muy importante. Imagina: planos, dinero, documentos personales o de empresa, fotos, ...
- Actualmente la información viaja a través de redes informáticas, de Internet, y alguien podría interceptarla.

## Introducción a la Criptografía

- Criptografía viene del griego cripto (que significa «ocultar») y graphos (que significa «escribir»).
- Para poder cifrar y descifrar debemos seguir una "reglas". Esas reglas son el llamado **algoritmo**.
- Un mismo algoritmo da diferentes mensajes cifrados. Para lograrlo debemos usar diferentes **claves**.
- Consideraciones sobre las claves:
  - Alguien puede intentar averiguarlas: ataques de **fueza bruta** (todas las combinaciones posibles) y ataques de **diccionario** (es decir usando claves, palabras, que alguien ha recopilado como posibles claves).
  - Cuanto más larga más difícil de averiguar
  - Cuanto mayor número de caracteres se usan más difícil de averiguar
  - Es conveniente cambiarla regularmente
  - No debemos usar palabras identificables.
  - Una medida de seguridad es bloquear cuentras si hay intentos repetidos.

### El origen. Cifrado César

- El primer algoritmo de cifrado fue usado por el general romano Julio Cesar.
- Es un cifrado simple por sustitución. Cada caracter se sustituye por el que ocupa "N" posiciones más adelante en el alfabeto.
- Típicamente el desplazamiento es N=3, pero puede ser cualqier número entre 1 y 25.
- La tabla de sustitución para N=3 es:

```
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
D E F G H I J K L M N O P Q R S T U V W X Y Z A B C
```

- Así "Santiago Hernandez" se cifraría como "Xfsyfnlt Mjwsfsije"
- Prueba a cifrar "Zaragoza" con desplzamiento 3 y con desplazamiento 6


## Criptografía simétrica

- Damos ese nombre a los algoritmos que usan la misma clave para codificar y para decodificar los mensajes. 
- Sencillos de usar y rápidos. Hasta los años 70 todos eran así.
- El primero conocido: César. La clave es el desplazamiento N.
- Más modernos: DES, 3DES, AES, Blowfish e IDEA.
- Ejemplo: telefonía SIM.
  - La tarjeta SIM tiene un identificador único, un *dni* y una clave de cifrado.
  - El proveeror (Movistar, Vodafone,...) conoce el identificador y la clave de cifrado.
  - Toda la comunicación es cifrada y descifrada usando la clave que ambos conocen.
  - La tarjeta SIM es la que cifra (y descifra) la comunicación, no es el teléfono. La clave no puede ser averiguada.
- Sencillo y eficiente. 
- **La dificultad principal es el intercambio de claves**.
- Principales algoritmos: DES, 3DES, **AES** (AES256, AES192, AES128), Blowfish e IDEA.


> **Explicación más detallada algoritmo AES**
>
> - AES cifra usando claves de 128, 192 o 256 bits. Por comparar, una IPv4 es una cadena de 32bits. Una IPv6 es de 128.
> - Sin embargo nosotros le damos una contraseña de longitud aleatoria. 
> 
> ¿Cómo funciona todo esto?
> 
> - La contraseña dada y una cadena aleatoria, inventada al azar. Se pasan por un algoritmo que genera una clave aleatora de 128, 192 o 256bit. Cuanto más larga más segura.
> - La clave obtenida es la que realmente se usa para cifrar.
> - El fichero resultado, lleva una parte no cifrada: el algoritmo usado, y la cadena aleatoria a la que se le llama sal o *salt* en inglés.
> - Si no usaramos esa "sal", la clave de cifrado de una contraseña sería siempre igual y sería fácil hacer ataques por diccionario.
> - Al descifrar, se usa la contraseña dada y la sal para calcular la clave de cifrado y descifrar el mensaje.


## Criptografía asimétrica

Pendiente

## Cifrar y firmar

### hash

## PKI, DNIe
